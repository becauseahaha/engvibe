!function(){"use strict";new Masonry(".stories__items",{itemSelector:".stories-item",columnWidth:".stories-item--width",gutter:".stories-item--gap",horizontalOrder:!0});function t(t){let e=document.getElementById(t)?document.getElementById(t):this.closest(".popup");e.dataset.processing&&1==e.dataset.processing||(e.dataset.processing=!0,e.classList.contains("is-shown")&&(e.addEventListener("transitionend",t=>{e.style.display="none",e.dataset.processing=!1},{once:!0}),e.classList.remove("is-shown"),document.body.classList.remove("no-scroll")))}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".js-accordion .accordion__header").forEach(t=>{t.addEventListener("click",function(){t.closest(".accordion__item").classList.contains("is-active");const e=t.querySelector(".button-arrow");e.classList.toggle("button-arrow--down"),e.classList.toggle("button-arrow--up"),e.classList.toggle("button-arrow--filled"),t.closest(".accordion__item").classList.toggle("is-active")})}),IMask(document.querySelector(".js-mask-phone"),{mask:"+{7} (000) 000-00-00"}),document.querySelectorAll(".popup").forEach(e=>{e.addEventListener("click",function(s){s.target==e&&t(s.target.id)})}),document.querySelectorAll(".js-popup-hide").forEach(e=>{e.addEventListener("click",t.bind(e))}),document.querySelectorAll(".js-popup-show").forEach(t=>{t.addEventListener("click",e=>{e.preventDefault(),function(t){let e=document.getElementById(t);if((!e.dataset.processing||1!=e.dataset.processing)&&(e.dataset.processing=!0,0==e.classList.contains("is-shown"))){if(e.dataset.file){var s=new XMLHttpRequest;s.open("GET",e.dataset.file,!0),s.onreadystatechange=function(){4===this.readyState&&200===this.status&&(e.querySelector(".popup-window").innerHTML=this.responseText)},s.send()}e.style.display="flex",setTimeout(function(){e.classList.add("is-shown"),document.body.classList.add("no-scroll"),e.dataset.processing=!1},1)}}(t.dataset.target,t.dataset)})})})}();
//# sourceMappingURL=main.js.map
